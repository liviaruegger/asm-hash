# Hash Generator (Assembly/Python)

[[LEIAME em pt-BR]](https://github.com/liviaruegger/asm-hash/blob/main/LEIAME.txt)

This project was developed for the Programming Techniques I ([MAC0216](https://uspdigital.usp.br/jupiterweb/obterDisciplina?nomdis=&sgldis=mac0216)) course at IME-USP. It consists of a hash generator implemented in both Python and x86-64 assembly language, designed to create a 32-character hash string (an hexadecimal representation of 16 bytes of data generated by the hash algorithm). Each program takes input from the user, processes it, and produces a fixed-length, unique hash value.

A brief runtime/space comparison of the two programs can be found in [this report](https://github.com/liviaruegger/asm-hash/blob/main/docs/relatorio.pdf) (pt-BR only).


## Table of Contents

- [How to Build the Executable](#how-to-build-the-executable)
- [How to Run](#how-to-run)
- [Testing](#testing)
- [Debugging](#debugging)
- [Dependencies](#dependencies)


## How to Build the Executable

To generate the Assembly executable file, follow these steps (for 64-bit Linux):

1. Assemble with NASM:
```shell
nasm -f elf64 hash.s
```

2. Link with LD:
```shell
ld -s -o hash hash.o
```

Or you can simply do both by using the `assemble` rule defined in the makefile:
```shell
make assemble
```


## How to Run

To execute the program in Python, use the following command:
```shell
python3 hash.py
```

To execute the program in Assembly, first generate the executable using the previously mentioned commands. Once you have the 'hash' executable, run it by using this command:
```shell
./hash
```

In both cases, when running the program, you will need to provide a string through standard input (containing 1 to 100,000 ASCII characters). The program will then print the corresponding 32-character hash to standard output.


## Testing

Below are some sample test cases, each consisting of an input and the expected output hash:

```
Input:  Ola mundo!
Output: 7ea2319be0d038908161b4e8c26bfc7a

Input:  Ole mundo!
Output: c0900a10ded215a7297b69d86d81e25a

Input:  que tistreza
Output: 878561c1134d1fd53e9b36822e1914cc

Input:  MAC0216 eh muito legal!
Output: 9bc1e12b591694d3354f658d46006f7a
```

You can also run a complete series of tests with the following commands, for Python and Assembly code respectively:
```shell
make test-py
make test-asm
```

Additionally, you can test runtimes for each program with inputs of different sizes:
```shell
make time-py
make time-asm
```


## Debugging

This project was debbuged using GNU gdb (Ubuntu 9.2-0ubuntu1~20.04.1) 9.2. The command `make gdb` will assemble/link the Assembly program with the necessary flags and run gdb for the generated executable.


## Dependencies

- Assembler: NASM version 2.14.02
- Linker: GNU ld (GNU Binutils for Ubuntu) 2.34
- Interpreter: Python 3.11.3 64-bit
- Operating System: x86_64 GNU/Linux
